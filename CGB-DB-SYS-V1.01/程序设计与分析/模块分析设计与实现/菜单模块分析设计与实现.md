# 1. 菜单模块分析 #

> 菜单管理又称为资源管理，是系统资源对外的表现形式。

菜单就是数据的类名,如`手机/电脑/主机`这就是一个一级菜单,可以细分为三个二级菜单

## 1.1 数据库设计 ##

### 1.1.1 数据库表设计 ###

| 字段名       | 类型     | 约束    | 说明                           |
| ------------ | -------- | ------- | ------------------------------ |
| id           | int      | primary | 菜单主键                       |
| name         | varchar  |         | 菜单名称                       |
| url          | varchar  |         | 资源URL                        |
| type         | int      |         | 类型<br />1: 菜单<br />2: 按钮 |
| sort         | int      |         | 排序                           |
| note         | varchar  |         | 备注                           |
| parentId     | int      |         | 父辈菜单id                     |
| permission   | varchar  |         | 授权,如                        |
| createdTime  | datetime |         | 创建时间                       |
| modifiedTime | datetime |         | 修改时间                       |
| createdUser  | varchar  |         | 创建用户                       |
| modifiedUser | varchar  |         | 修改用户                       |

### 1.1.2 数据关系分析 ###

菜单管理又称为资源管理，是系统资源对外的表现形式

所以不同的角色之间所拥有的菜单也不相同

在数据库中菜单和角表示多对多的关系,一个角色可以查看多个菜单,一个菜单可以被多个角色查看

<img src="https://gitee.com/teamsea/tuchuang/raw/master/tuchuang/image5-2023-10-1115:30:00.png" alt="image5-2023-10-1115:30:00.png" style="zoom:67%;" />

需要一张表来描述两个表之间的关系

<img src="https://gitee.com/teamsea/tuchuang/raw/master/tuchuang/image8-2023-10-1115:36:38.png" alt="image8-2023-10-1115:36:38.png" style="zoom:67%;" />

在删除表时应该进行阻止,先将主表中关系进行删除,在删除从表中的内容

## 1.2 创建主表 ##

| 字段名  | 类型 | 约束    | 说明   |
| ------- | ---- | ------- | ------ |
| id      | int  | primary | 主键   |
| role_id | int  |         | 角色id |
| menu    | int  |         | 菜单id |

# 2. 原型说明 #

菜单浏览页面

<img src="https://gitee.com/teamsea/tuchuang/raw/master/tuchuang/image6-2023-10-1115:56:25.png" alt="image6-2023-10-1115:56:25.png" style="zoom:67%;" />

菜单添加页面

<img src="https://gitee.com/teamsea/tuchuang/raw/master/tuchuang/image19-2023-10-1116:03:44.png" alt="image19-2023-10-1116:03:44.png" style="zoom:67%;" />

在编辑上级菜单时会有弹窗加载页面

<img src="https://gitee.com/teamsea/tuchuang/raw/master/tuchuang/image17-2023-10-1116:04:59.png" alt="image17-2023-10-1116:04:59.png" style="zoom:67%;" />